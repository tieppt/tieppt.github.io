<!DOCTYPE html>
<html class="no-js">
  <head>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--<title>Thử Nghiệm Với Angular Phần 13: Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular</title>-->
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Thử Nghiệm Với Angular Phần 13: Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular | Lập Trình Thật Kỳ Diệu</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Thử Nghiệm Với Angular Phần 13: Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular" />
<meta name="author" content="Tiep Phan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Content Projection là một concept khá hay trong Angular, giúp chúng ta có thể dễ dàng tạo các component có khả năng tái sử dụng cao. Bài học này chúng ta sẽ tạo các Component để tìm hiểu chi tiết hơn về Content Projection." />
<meta property="og:description" content="Content Projection là một concept khá hay trong Angular, giúp chúng ta có thể dễ dàng tạo các component có khả năng tái sử dụng cao. Bài học này chúng ta sẽ tạo các Component để tìm hiểu chi tiết hơn về Content Projection." />
<link rel="canonical" href="https://www.tiepphan.com/thu-nghiem-voi-angular-thuc-hanh-content-projection-va-lifecycle-angular/" />
<meta property="og:url" content="https://www.tiepphan.com/thu-nghiem-voi-angular-thuc-hanh-content-projection-va-lifecycle-angular/" />
<meta property="og:site_name" content="Lập Trình Thật Kỳ Diệu" />
<meta property="og:image" content="https://www.tiepphan.com/assets/uploads/2017/03/angular13.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-03-12T08:13:55+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.tiepphan.com/assets/uploads/2017/03/angular13.jpg" />
<meta property="twitter:title" content="Thử Nghiệm Với Angular Phần 13: Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular" />
<meta name="google-site-verification" content="Gcn3Y0oBud7gufI1PtszF7DFNgFOifgLRIaZAoLZWWU" />
<meta name="msvalidate.01" content="F160AE523B1846CBDC431CB91CB6613A" />
<script type="application/ld+json">
{"description":"Content Projection là một concept khá hay trong Angular, giúp chúng ta có thể dễ dàng tạo các component có khả năng tái sử dụng cao. Bài học này chúng ta sẽ tạo các Component để tìm hiểu chi tiết hơn về Content Projection.","url":"https://www.tiepphan.com/thu-nghiem-voi-angular-thuc-hanh-content-projection-va-lifecycle-angular/","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.tiepphan.com/assets/logo.png"},"name":"Tiep Phan"},"image":"https://www.tiepphan.com/assets/uploads/2017/03/angular13.jpg","headline":"Thử Nghiệm Với Angular Phần 13: Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular","dateModified":"2017-03-12T08:13:55+00:00","datePublished":"2017-03-12T08:13:55+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.tiepphan.com/thu-nghiem-voi-angular-thuc-hanh-content-projection-va-lifecycle-angular/"},"author":{"@type":"Person","name":"Tiep Phan"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" type="image/png" href="/favicon.ico"/>

<!-- CSS -->
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600|Roboto:100,300,400,500,700|Volkhov:400i">
<link rel="stylesheet" href="/css/owl.carousel.css" />
<link rel="stylesheet" href="/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/font-awesome.min.css" />
<link rel="stylesheet" href="/css/airspace.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/ionicons.min.css" />
<link rel="stylesheet" href="/css/animate.css" />
<link rel="stylesheet" href="/css/responsive.css" />
<link rel="stylesheet" href="/css/syntax.css" />

<!--
/*
 * Airspace
 * Ported to Jekyll by Andrew Lee
 * https://github.com/luminousrubyist/airspace-jekyll
 * Designed and Developed by ThemeFisher
 * https://themefisher.com/
 *
 */
-->


  </head>
  <body>


    <!-- Header Start -->
<header>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <!-- header Nav Start -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.tiepphan.com">
              <img src="/assets/logo.png" alt="Logo" class="img-logo">
              <span>Lập trình thật kỳ diệu</span>
            </a>
          </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="/">Home</a></li>
                <li><a href="/work/">Work</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li><a href="/about/">About</a></li>
                <li><a href="/contact/">Contact</a></li>
              </ul>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
    </div>
  </div>
</header><!-- header close -->



    <div class="post">
  <!-- Wrapper Start -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-9">
          <div class="block">
            <h1>Thử Nghiệm Với Angular Phần 13: Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular</h1>
            <div class="post-info-wrapper">
              <p class="italic">By <span class="bold">Tiep Phan</span> on <span class="bold">March 12, 2017</span></p>
            </div>
            <hr />
            <p><h1 class="no_toc" id="thực-hành-content-projection-và-lifecycle-liên-quan-trong-angular">Thực Hành Content Projection Và Lifecycle Liên Quan Trong Angular</h1>

<p class="text-center"><img src="/assets/uploads/2017/03/angular-content-projection-collapse.png" alt="Angular content projection collapse" class="img-responsive" /></p>

<p>Content Projection là một concept khá hay trong Angular, giúp chúng ta có thể dễ dàng tạo các component có khả năng tái sử dụng cao. Bài học này chúng ta sẽ tạo các Component để tìm hiểu chi tiết hơn về Content Projection và các Lifecycle liên quan khi sử dụng.</p>

<ul class="tp__toc" id="markdown-toc">
  <li><a href="#1-các-thành-phần-cơ-bản-của-app" id="markdown-toc-1-các-thành-phần-cơ-bản-của-app">1. Các thành phần cơ bản của app.</a></li>
  <li><a href="#2-cài-đặt" id="markdown-toc-2-cài-đặt">2. Cài đặt:</a>    <ul>
      <li><a href="#21collapsegroupcomponent" id="markdown-toc-21collapsegroupcomponent">2.1 CollapseGroupComponent</a></li>
      <li><a href="#22-collapsecomponent" id="markdown-toc-22-collapsecomponent">2.2 CollapseComponent:</a></li>
      <li><a href="#23-contentchild-vs-contentchildren-vs-viewchild-vs-viewchildren" id="markdown-toc-23-contentchild-vs-contentchildren-vs-viewchild-vs-viewchildren">2.3 ContentChild vs ContentChildren vs ViewChild vs ViewChildren.</a></li>
    </ul>
  </li>
  <li><a href="#3-video-bài-học" id="markdown-toc-3-video-bài-học">3. Video bài học:</a></li>
  <li><a href="#4-tham-khảo" id="markdown-toc-4-tham-khảo">4. Tham khảo:</a></li>
</ul>

<h2 id="1-các-thành-phần-cơ-bản-của-app">1. Các thành phần cơ bản của app.</h2>

<p>Trong bài học này chúng ta sẽ tạo mới hai component là <strong>CollapseGroupComponent</strong> và <strong>CollapseComponent. </strong>Trong đó <strong>CollapseGroupComponent</strong> sẽ chịu trách nhiệm quản lý các component <strong>CollapseComponent</strong> như sau:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tp-collapse-group</span> <span class="na">[multiple]=</span><span class="s">"false"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;tp-collapse</span> <span class="na">[title]=</span><span class="s">"'First block'"</span> <span class="na">[selected]=</span><span class="s">"true"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
    <span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/tp-collapse&gt;</span>
  <span class="nt">&lt;tp-collapse</span> <span class="na">[title]=</span><span class="s">"'Second block'"</span> <span class="na">[selected]=</span><span class="s">"false"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
    <span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/tp-collapse&gt;</span>
<span class="nt">&lt;/tp-collapse-group&gt;</span>
</code></pre></div></div>

<h2 id="2-cài-đặt">2. Cài đặt:</h2>

<p>Cài đặt chi tiết của các component như sau:</p>

<h3 id="21collapsegroupcomponent">2.1 CollapseGroupComponent</h3>

<p><strong>collapse-group.component.html</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"collapsible"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ng-content</span> <span class="na">select=</span><span class="s">"tp-collapse"</span><span class="nt">&gt;&lt;/ng-content&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p><strong>collapse-group.component.ts</strong></p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">AfterContentInit</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">ContentChildren</span><span class="p">,</span> <span class="nx">QueryList</span><span class="p">,</span> <span class="nx">OnDestroy</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">CollapseComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../collapse/collapse.component</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Subscription</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">rxjs/Subscription</span><span class="dl">"</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tp-collapse-group</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./collapse-group.component.html</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">./collapse-group.component.scss</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">CollapseGroupComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">AfterContentInit</span><span class="p">,</span> <span class="nx">OnDestroy</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">ContentChildren</span><span class="p">(</span><span class="nx">CollapseComponent</span><span class="p">)</span> <span class="nx">collapses</span><span class="p">:</span> <span class="nx">QueryList</span><span class="o">&lt;</span><span class="nx">CollapseComponent</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">multiple</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="k">private</span> <span class="nx">_subscriptions</span><span class="p">:</span> <span class="nx">Subscription</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>

  <span class="nx">ngAfterContentInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">collapses</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">collapse</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">subscription</span> <span class="o">=</span> <span class="nx">collapse</span><span class="p">.</span><span class="nx">selectedChange</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">coll</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">multiple</span> <span class="o">&amp;&amp;</span> <span class="nx">coll</span><span class="p">.</span><span class="nx">selected</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">toggleCollapse</span><span class="p">(</span><span class="nx">coll</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_subscriptions</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">subscription</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">toggleCollapse</span><span class="p">(</span><span class="nx">collapse</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">collapses</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">collapseId</span> <span class="o">!=</span> <span class="nx">collapse</span><span class="p">.</span><span class="nx">collapseId</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">c</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">ngOnDestroy</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_subscriptions</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">_subscriptions</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">_subscriptions</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">sub</span> <span class="o">=&gt;</span> <span class="nx">sub</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_subscriptions</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Ở dòng 11, chúng ta sử dụng <code class="language-plaintext highlighter-rouge">@ContentXXX</code> để query các phần tử được nhúng vào thông qua <code class="language-plaintext highlighter-rouge">ng-content</code> mà chúng ta đã cài đặt ở template. Trong trường hợp ở trên, chúng ta muốn query tất cả các phần tử là <code class="language-plaintext highlighter-rouge">CollapseComponent</code>.</p>

<p>Bây giờ, để sử dụng các element, chúng ta cần hook vào lifecycle là <code class="language-plaintext highlighter-rouge">ngAfterContentInit</code>, kết quả là chúng ta có một mảng element để thao tác.</p>

<p>Về mặt logic, lúc này chúng ta kiểm tra xem Component này có cho phép multiple <code class="language-plaintext highlighter-rouge">CollapseComponent</code> được open cùng một lúc không, nếu không thì chúng ta phải thực hiên việc đóng các component khác mà đang open khi muốn open một thằng khác.</p>

<p>Dòng 22 chúng ta subscribe vào event emitter của <code class="language-plaintext highlighter-rouge">CollapseComponent</code> để thực hiện việc quản lý trạng thái của chúng.</p>

<p>Khi component <code class="language-plaintext highlighter-rouge">CollapseGroupComponent</code> bị hủy, chúng ta cũng thực hiện xóa bỏ các phần dữ liệu không cần thiết như: hủy các event listener đang tồn tại chẳng hạn.</p>

<h3 id="22-collapsecomponent">2.2 CollapseComponent:</h3>

<p><strong>collapse.component.html</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">"collapsible-header"</span> <span class="na">(click)=</span><span class="s">"toggleSelected()"</span><span class="nt">&gt;</span>
  {{ title }}
<span class="nt">&lt;/header&gt;</span>
<span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"collapsible-body"</span> <span class="na">[class.active]=</span><span class="s">"selected"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ng-content&gt;&lt;/ng-content&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<p><strong>collapse.component.ts</strong></p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">ViewEncapsulation</span><span class="p">,</span> <span class="nx">Output</span><span class="p">,</span> <span class="nx">EventEmitter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">DataCollapseChange</span> <span class="p">{</span>
  <span class="nl">collapseId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">selected</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">uuid</span><span class="p">:</span> <span class="kr">number</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tp-collapse</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./collapse.component.html</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">./collapse.component.scss</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">encapsulation</span><span class="p">:</span> <span class="nx">ViewEncapsulation</span><span class="p">.</span><span class="nx">None</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">CollapseComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">title</span><span class="p">:</span> <span class="kr">string</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">selected</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">Output</span><span class="p">()</span> <span class="nx">selectedChange</span><span class="p">:</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="nx">DataCollapseChange</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="nx">DataCollapseChange</span><span class="o">&gt;</span><span class="p">();</span>
  <span class="k">private</span> <span class="nx">_id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_id</span> <span class="o">=</span> <span class="o">++</span><span class="nx">uuid</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">get</span> <span class="nx">collapseId</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">tp-collapse-</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">_id</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">toggleSelected</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">selected</span> <span class="o">=</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">selected</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">selectedChange</span><span class="p">.</span><span class="nx">emit</span><span class="p">({</span>
      <span class="na">collapseId</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">collapseId</span><span class="p">,</span>
      <span class="na">selected</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">selected</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Dòng 3 đến 6 chúng ta định nghĩa một kiểu dữ liệu để thực hiện trả về khi component thay đổi trạng thái của nó. Component này đơn giản chỉ nhận đầu vào, hiển thị và có thể gửi lại một event là selectedChange.</p>

<h3 id="23-contentchild-vs-contentchildren-vs-viewchild-vs-viewchildren">2.3 ContentChild vs ContentChildren vs ViewChild vs ViewChildren.</h3>

<blockquote>
  <p>Content: là các phần tử được truyền vào theo ng-content hay content projection.</p>

  <p>View: là các phần tử nội tại của component đó, có thể hiểu là phần DOM mà bạn cài đặt.</p>
</blockquote>

<p>Ví dụ trong CollapseComponent thì phần <code class="language-plaintext highlighter-rouge">header</code> là view, còn phần được truyền vào qua <code class="language-plaintext highlighter-rouge">ng-content</code> là <code class="language-plaintext highlighter-rouge">content</code>.</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">XXXChild</code> vs <code class="language-plaintext highlighter-rouge">XXXChildren</code>: thì <code class="language-plaintext highlighter-rouge">XXXChild</code> nó sẽ trả về 1 phần tử, còn <code class="language-plaintext highlighter-rouge">XXXChildren</code> trả về một list các phần tử.</p>
</blockquote>

<h2 id="3-video-bài-học">3. Video bài học:</h2>

<figure class="video_container">
  <iframe src="https://www.youtube.com/embed/gKDkDa3CfZY" frameborder="0" allowfullscreen="true"> </iframe>
</figure>

<h2 id="4-tham-khảo">4. Tham khảo:</h2>

<p>Source code: <a href="https://github.com/tieppt/try-angular/tree/lesson-13" target="_blank" rel="noopener noreferrer">https://github.com/tieppt/try-angular/tree/lesson-13</a></p>

<p>Docs:</p>

<p><a href="https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html</a></p>

<p><a href="https://angular.io/docs/ts/latest/api/core/index/ContentChild-decorator.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/api/core/index/ContentChild-decorator.html</a></p>

<p><a href="https://angular.io/docs/ts/latest/api/core/index/ContentChildren-decorator.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/api/core/index/ContentChildren-decorator.html</a></p>

<p><a href="https://angular.io/docs/ts/latest/api/core/index/ViewChild-decorator.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/api/core/index/ViewChild-decorator.html</a></p>

<p><a href="https://angular.io/docs/ts/latest/api/core/index/ViewChildren-decorator.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/api/core/index/ViewChildren-decorator.html</a></p>

<p><a href="https://angular.io/docs/ts/latest/api/core/index/Query-class.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/api/core/index/Query-class.html</a></p>

<p><a href="https://angular.io/docs/ts/latest/api/core/index/QueryList-class.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/api/core/index/QueryList-class.html</a></p>
</p>
          </div>
        </div>
        <div class="col-md-3">
          <h2>Facebook</h2>
          <div class="fb-page" data-href="https://www.facebook.com/LapTrinhThatKyDieu/" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/LapTrinhThatKyDieu/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/LapTrinhThatKyDieu/">Lập Trình Thật Kỳ Diệu</a></blockquote></div>
        </div>
      </div>
    </div>
  </section>
</div>
<p class="center-text" style="padding: 30px;">
  <a href="/blog">Back to blog</a>
</p>











    <!-- footer Start -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="footer-manu">
          <ul>
            <li><a href="/about/">About</a></li>
            <li><a href="/contact/">Contact</a></li>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="#">Terms</a></li>
          </ul>
        </div>
        <p>Copyright &copy; 2017 to present - tiepphan.com All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>

<!-- Js -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/plugins.js"></script>

<script src="/js/main.js"></script>

    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    </body>
</html>
