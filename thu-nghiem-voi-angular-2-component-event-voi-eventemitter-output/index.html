<!DOCTYPE html>
<html class="no-js">
  <head>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--<title>Thử Nghiệm Với Angular 2 Phần 8: Component Event Với EventEmitter Và @Output</title>-->
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Thử Nghiệm Với Angular 2 Phần 8: Component Event Với EventEmitter Và @Output | Lập Trình Thật Kỳ Diệu</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Thử Nghiệm Với Angular 2 Phần 8: Component Event Với EventEmitter Và @Output" />
<meta name="author" content="Tiep Phan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Bài học sẽ giới thiệu cách để Component phát sinh Event để tương tác từ Component con với Component cha." />
<meta property="og:description" content="Bài học sẽ giới thiệu cách để Component phát sinh Event để tương tác từ Component con với Component cha." />
<link rel="canonical" href="https://www.tiepphan.com/thu-nghiem-voi-angular-2-component-event-voi-eventemitter-output/" />
<meta property="og:url" content="https://www.tiepphan.com/thu-nghiem-voi-angular-2-component-event-voi-eventemitter-output/" />
<meta property="og:site_name" content="Lập Trình Thật Kỳ Diệu" />
<meta property="og:image" content="https://www.tiepphan.com/assets/uploads/2017/01/angular2-PHAN8-Componen-Event-Voi-EventEmitter-Va-Output.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-01-06T16:53:27+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.tiepphan.com/assets/uploads/2017/01/angular2-PHAN8-Componen-Event-Voi-EventEmitter-Va-Output.jpg" />
<meta property="twitter:title" content="Thử Nghiệm Với Angular 2 Phần 8: Component Event Với EventEmitter Và @Output" />
<meta name="google-site-verification" content="Gcn3Y0oBud7gufI1PtszF7DFNgFOifgLRIaZAoLZWWU" />
<meta name="msvalidate.01" content="F160AE523B1846CBDC431CB91CB6613A" />
<script type="application/ld+json">
{"description":"Bài học sẽ giới thiệu cách để Component phát sinh Event để tương tác từ Component con với Component cha.","url":"https://www.tiepphan.com/thu-nghiem-voi-angular-2-component-event-voi-eventemitter-output/","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.tiepphan.com/assets/logo.png"},"name":"Tiep Phan"},"image":"https://www.tiepphan.com/assets/uploads/2017/01/angular2-PHAN8-Componen-Event-Voi-EventEmitter-Va-Output.jpg","headline":"Thử Nghiệm Với Angular 2 Phần 8: Component Event Với EventEmitter Và @Output","dateModified":"2017-01-06T16:53:27+00:00","datePublished":"2017-01-06T16:53:27+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.tiepphan.com/thu-nghiem-voi-angular-2-component-event-voi-eventemitter-output/"},"author":{"@type":"Person","name":"Tiep Phan"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" type="image/png" href="/favicon.ico"/>

<!-- CSS -->
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600|Roboto:100,300,400,500,700|Volkhov:400i">
<link rel="stylesheet" href="/css/owl.carousel.css" />
<link rel="stylesheet" href="/css/bootstrap.min.css" />
<link rel="stylesheet" href="/css/font-awesome.min.css" />
<link rel="stylesheet" href="/css/airspace.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/ionicons.min.css" />
<link rel="stylesheet" href="/css/animate.css" />
<link rel="stylesheet" href="/css/responsive.css" />
<link rel="stylesheet" href="/css/syntax.css" />

<!--
/*
 * Airspace
 * Ported to Jekyll by Andrew Lee
 * https://github.com/luminousrubyist/airspace-jekyll
 * Designed and Developed by ThemeFisher
 * https://themefisher.com/
 *
 */
-->


  </head>
  <body>


    <!-- Header Start -->
<header>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <!-- header Nav Start -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.tiepphan.com">
              <img src="/assets/logo.png" alt="Logo" class="img-logo">
              <span>Lập trình thật kỳ diệu</span>
            </a>
          </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="/">Home</a></li>
                <li><a href="/work/">Work</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li><a href="/about/">About</a></li>
                <li><a href="/contact/">Contact</a></li>
              </ul>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
    </div>
  </div>
</header><!-- header close -->



    <div class="post">
  <!-- Wrapper Start -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-md-9">
          <div class="block">
            <h1>Thử Nghiệm Với Angular 2 Phần 8: Component Event Với EventEmitter Và @Output</h1>
            <div class="post-info-wrapper">
              <p class="italic">By <span class="bold">Tiep Phan</span> on <span class="bold">January 6, 2017</span></p>
            </div>
            <hr />
            <p><h1 class="no_toc" id="component-event-với-eventemitter-và-output">Component Event Với EventEmitter Và <code class="language-plaintext highlighter-rouge">@Output</code></h1>

<p>Sau khi tìm hiểu bài học <a href="/thu-nghiem-voi-angular-2-truyen-du-lieu-cho-component-voi-input/" target="_blank" rel="noopener noreferrer">Truyền Dữ Liệu Cho Component Với <code class="language-plaintext highlighter-rouge">@Input</code></a> trong series <strong>Thử Nghiệm Với Angular 2</strong>, chúng ta đã biết cách để Component có thể nhận dữ liệu đầu vào. Bài học “Component Event Với <code class="language-plaintext highlighter-rouge">EventEmitter</code> Và <code class="language-plaintext highlighter-rouge">@Output</code>” sẽ giới thiệu cách để Component phát sinh Event để tương tác từ Component con với Component cha.</p>

<ul class="tp__toc" id="markdown-toc">
  <li><a href="#output-sử-dụng-như-thế-nào" id="markdown-toc-output-sử-dụng-như-thế-nào"><code class="language-plaintext highlighter-rouge">@Output</code> sử dụng như thế nào?</a></li>
  <li><a href="#listener-event-ở-component-cha-như-thế-nào" id="markdown-toc-listener-event-ở-component-cha-như-thế-nào">Listener event ở Component cha như thế nào?</a></li>
  <li><a href="#video-bài-học" id="markdown-toc-video-bài-học">Video bài học</a></li>
  <li><a href="#tham-khảo" id="markdown-toc-tham-khảo">Tham khảo</a></li>
</ul>

<h2 id="output-sử-dụng-như-thế-nào"><code class="language-plaintext highlighter-rouge">@Output</code> sử dụng như thế nào?</h2>

<p>Tương tự như <code class="language-plaintext highlighter-rouge">@Input</code>, việc sử dụng <code class="language-plaintext highlighter-rouge">@Output</code> cũng rất dễ dàng.</p>

<p>Bạn cần đặt một tên cho event hoặc có thể thêm alias, sau đó gán nó với <code class="language-plaintext highlighter-rouge">@Output</code> decorator và một phép gán cho một đối tượng thuộc <code class="language-plaintext highlighter-rouge">EventEmitter</code> như sau:</p>

<p><strong>switches.component.ts</strong></p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> 
  <span class="nx">Component</span><span class="p">,</span> 
  <span class="nx">OnInit</span><span class="p">,</span> 
  <span class="nx">Input</span><span class="p">,</span> 
  <span class="nx">Output</span><span class="p">,</span> 
  <span class="nx">EventEmitter</span> 
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tp-switches</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./switches.component.html</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">./switches.component.scss</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">SwitchesComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">checked</span><span class="p">:</span> <span class="nb">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">Output</span><span class="p">(</span><span class="dl">'</span><span class="s1">checkedChange</span><span class="dl">'</span><span class="p">)</span> <span class="nx">change</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Khi có một hành động nào đó xảy ra, bạn sẽ kích hoạt event đó và trả về kèm theo một giá trị có thể là kiểu primitive hoặc các kiểu phức hợp như object, array, …</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nx">SwitchesComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">emitChangeValue</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">change</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>switches.component.html</strong></p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">"tp-toggle tp-toggle--round tp-toggle--flat"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span>
    <span class="na">class=</span><span class="s">"tp-toggle__checkbox"</span>
    <span class="na">[checked]=</span><span class="s">"checked"</span>
    <span class="na">(change)=</span><span class="s">"emitChangeValue($event)"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"tp-toggle__icon"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="nt">&lt;/label&gt;</span>
</code></pre></div></div>

<h2 id="listener-event-ở-component-cha-như-thế-nào">Listener event ở Component cha như thế nào?</h2>

<p>Ở Component cha, bạn lắng nghe event như các event thông thường được bao đóng bởi cặp dấu <code class="language-plaintext highlighter-rouge">()</code>.</p>

<p><strong>contact-list.component.html</strong></p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tp-switches</span> <span class="na">[checked]=</span><span class="s">"contact.avatar?.round"</span>
  <span class="na">(checkedChange)=</span><span class="s">"switchesValueChange($event, i)"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/tp-switches&gt;</span>
</code></pre></div></div>

<p><strong>contact-list.component.ts</strong></p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nx">ContactListComponent</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">switchesValueChange</span><span class="p">(</span><span class="nx">event</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">contacts</span><span class="p">[</span><span class="nx">index</span><span class="p">].</span><span class="nx">avatar</span><span class="p">.</span><span class="nx">round</span> <span class="o">=</span> <span class="nx">event</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Sử dụng <code class="language-plaintext highlighter-rouge">outputs</code> array trong <code class="language-plaintext highlighter-rouge">@Component()</code> để thay thế cho việc dùng <code class="language-plaintext highlighter-rouge">@Output</code>.</p>

<blockquote>
  <p>Lưu ý: cách này thường không được khuyến cáo sử dụng như <code class="language-plaintext highlighter-rouge">@Output</code>.</p>
</blockquote>

<p><strong>switches.component.ts</strong></p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> 
  <span class="nx">Component</span><span class="p">,</span> 
  <span class="nx">OnInit</span><span class="p">,</span> 
  <span class="nx">Input</span><span class="p">,</span> 
  <span class="nx">Output</span><span class="p">,</span> 
  <span class="nx">EventEmitter</span> 
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tp-switches</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./switches.component.html</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">./switches.component.scss</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">change:checkedChange</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">SwitchesComponent</span> <span class="k">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">checked</span><span class="p">:</span> <span class="nx">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">public</span> <span class="nx">change</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="nx">boolean</span><span class="o">&gt;</span><span class="p">();</span>

  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>
  <span class="nx">emitChangeValue</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">change</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">checked</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>Lưu ý: alias sẽ có thứ tự <code class="language-plaintext highlighter-rouge">internalEvent:externalEvent</code> ví dụ như <code class="language-plaintext highlighter-rouge">change:checkedChange</code>.</p>
</blockquote>

<h2 id="video-bài-học">Video bài học</h2>

<figure class="video_container">
  <iframe src="https://www.youtube.com/embed/8uu9hh4_ZSU" frameborder="0" allowfullscreen="true"> </iframe>
</figure>

<h2 id="tham-khảo">Tham khảo</h2>

<p>Documentation: <a href="https://angular.io/docs/ts/latest/cookbook/component-communication.html" target="_blank" rel="noopener noreferrer">https://angular.io/docs/ts/latest/cookbook/component-communication.html</a></p>

<p>Source code các bạn lấy theo branch để theo dõi: <a href="https://github.com/tieppt/try-angular/tree/lesson-8" target="_blank" rel="noopener noreferrer">https://github.com/tieppt/try-angular/tree/lesson-8</a></p>
</p>
          </div>
        </div>
        <div class="col-md-3">
          <h2>Facebook</h2>
          <div class="fb-page" data-href="https://www.facebook.com/LapTrinhThatKyDieu/" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/LapTrinhThatKyDieu/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/LapTrinhThatKyDieu/">Lập Trình Thật Kỳ Diệu</a></blockquote></div>
        </div>
      </div>
    </div>
  </section>
</div>
<p class="center-text" style="padding: 30px;">
  <a href="/blog">Back to blog</a>
</p>











    <!-- footer Start -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="footer-manu">
          <ul>
            <li><a href="/about/">About</a></li>
            <li><a href="/contact/">Contact</a></li>
            <li><a href="/blog/">Blog</a></li>
            <li><a href="#">Terms</a></li>
          </ul>
        </div>
        <p>Copyright &copy; 2017 to present - tiepphan.com All rights reserved.</p>
      </div>
    </div>
  </div>
</footer>

<!-- Js -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.2.1.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/plugins.js"></script>

<script src="/js/main.js"></script>

    <div id="fb-root"></div>
    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    </body>
</html>
